(this["webpackJsonpmovie-bob"]=this["webpackJsonpmovie-bob"]||[]).push([[0],{37:function(e,a,t){e.exports=t(55)},42:function(e,a,t){},43:function(e,a,t){},55:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(22),l=t.n(o),c=(t(42),t(3)),u=(t(43),t(17)),i=t(18),s=t(26),m=t(25),p=t(11),b=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-container"},r.a.createElement("br",null),"HOME")}}]),t}(n.Component),d=Object(p.b)((function(e){return{}}),(function(e){return{}}))(b),E=t(10),h=t(29);t(56),t(48),t(50);h.initializeApp({apiKey:"AIzaSyB82sHSgAFvXOV910ZQfQLbJSMKp2PM-3Y",authDomain:"moviebob-2aa6e.firebaseapp.com",databaseURL:"https://moviebob-2aa6e.firebaseio.com",projectId:"moviebob-2aa6e",storageBucket:"moviebob-2aa6e.appspot.com",messagingSenderId:"66206003248",appId:"1:66206003248:web:a476743044a57986137df5"});var g=h.auth,f=function(){function e(){Object(u.a)(this,e)}return Object(i.a)(e,null,[{key:"Registrate",value:function(e){var a=e.email,t=e.password;return g().createUserWithEmailAndPassword(a,t)}},{key:"Login",value:function(e){var a=e.email,t=e.password;return g().signInWithEmailAndPassword(a,t)}},{key:"Logout",value:function(){return g().signOut()}},{key:"getCurrentUser",value:function(){return g().currentUser}}]),e}();var v=["movie","tv-show","person"],y=function(e){var a;return r.a.createElement("div",{className:"search-bar-container"},r.a.createElement("select",{value:e.searchType,onChange:function(a){e.onSearchTypeChange(a.currentTarget.value)}},v.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))),r.a.createElement("input",{type:"text",name:"searchValue",onChange:function(t){t.persist();var n=t.currentTarget.value;a&&clearTimeout(a),a=setTimeout((function(){e.onSearchValueChange(n)}),500)}}))},O=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r)))._handleLogout=function(){e.props.onLogoutRequest()},e}return Object(i.a)(t,[{key:"render",value:function(){var e=this.props.userIsLogged?r.a.createElement("button",{onClick:this._handleLogout},"LOGOUT"):r.a.createElement(E.b,{to:"/movie-bob/login",className:"btn btn-primary"},"LOGIN");return r.a.createElement("header",{className:"px-3 py-2"},r.a.createElement("div",{className:"header-item header-item-home-link"},r.a.createElement(E.b,{to:"/movie-bob/"},"HOME")),r.a.createElement("div",{className:"header-item header-item-search-bar"},r.a.createElement(y,{onSearchTypeChange:this.props.onSearchTypeChange,onSearchValueChange:this.props.onSearchValueChange,searchValue:this.props.searchValue,searchType:this.props.searchType})),r.a.createElement("div",{className:"header-item header-item-auth-link"},e),r.a.createElement("div",{className:"clearfix"}))}}]),t}(n.Component),w={onSearchTypeChange:function(e){return{type:"CHANGE_SEARCH_TYPE",payload:e}},onSearchValueChange:function(e){return{type:"CHANGE_SEARCH_VALUE",payload:e}},onLogoutRequest:function(){return function(e){return new Promise((function(a,t){f.Logout().then((function(t){e({type:"LOGOUT",payload:t}),a(t)})).catch((function(e){console.log(e),t(e)}))}))}}},R=Object(p.b)((function(e){return{searchValue:e.searchReducer.value,searchType:e.searchReducer.type,userIsLogged:e.userReducer.logged}}),w)(O),j=t(19),C=t(4),N=t(21),L={email:"",password:"",passwordConfirm:""},A={handleRegistration:function(e){return function(a){return new Promise((function(t,n){f.Registrate(e).then((function(e){a({type:"LOGIN",payload:e}),t(e)})).catch((function(e){console.log(e),a({type:"AUTH_ERROR",payload:e}),n(e)}))}))}},handleClearAuthError:function(){return{type:"AUTH_ERROR_CLEAR",payload:!1}}},T=Object(p.b)((function(e){return{logged:e.userReducer.logged,authError:e.userReducer.authError}}),A)((function(e){var a=Object(n.useState)(L),t=Object(N.a)(a,2),o=t[0],l=t[1],u=Object(n.useState)(null),i=Object(N.a)(u,2),s=i[0],m=i[1],p=function(e){e.persist(),l((function(a){return Object(C.a)(Object(C.a)({},a),{},Object(j.a)({},e.target.name,e.target.value))}))};return Object(n.useEffect)((function(){return function(){e.authError&&e.handleClearAuthError()}})),e.logged?r.a.createElement(c.a,{to:"/movie-bob/"}):r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),m(null),e.handleRegistration({email:o.email,password:o.password})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email address",r.a.createElement("input",{type:"email",className:"form-control","aria-describedby":"emailHelp",placeholder:"Enter email",value:o.email,name:"email",onChange:p}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password",r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",value:o.password,name:"password",onChange:p}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password",r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Confirm Password",value:o.passwordConfirm,name:"passwordConfirm",onChange:p}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"REGISTER"),r.a.createElement("br",null),r.a.createElement(E.b,{to:"/movie-bob/login"},"Login"),e.authError&&r.a.createElement("p",{className:"text-danger"},e.authError.message),s&&r.a.createElement("p",{className:"text-danger"},s))})),S={handleLogin:function(e){return function(a){return new Promise((function(t,n){f.Login(e).then((function(e){a({type:"LOGIN",payload:e}),t(e)})).catch((function(e){console.log(e),a({type:"AUTH_ERROR",payload:e}),n(e)}))}))}}},H=Object(p.b)((function(e){return{logged:e.userReducer.logged,authError:e.userReducer.authError}}),S)((function(e){var a=e.handleLogin,t=e.authError,o=e.logged,l=Object(n.useState)(L),u=Object(N.a)(l,2),i=u[0],s=u[1],m=function(e){e.persist(),s((function(a){return Object(C.a)(Object(C.a)({},a),{},Object(j.a)({},e.target.name,e.target.value))}))};return o?r.a.createElement(c.a,{to:"/movie-bob/"}):r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a({email:i.email,password:i.password})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email address",r.a.createElement("input",{type:"email",className:"form-control","aria-describedby":"emailHelp",placeholder:"Enter email",value:i.email,name:"email",onChange:m}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password",r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",value:i.password,name:"password",onChange:m}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"LOGIN"),r.a.createElement("br",null),r.a.createElement(E.b,{to:"/movie-bob/registration"},"REGISTER HERE"),t&&r.a.createElement("p",{className:"text-danger"},t.message))})),I=function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/movie-bob/"},r.a.createElement(R,null),r.a.createElement(d,null)),r.a.createElement(c.b,{exact:!0,path:"/movie-bob/movie/:id"},r.a.createElement("br",null),r.a.createElement(R,null),r.a.createElement("p",null,"MOVIE")),r.a.createElement(c.b,{exact:!0,path:"/movie-bob/movies/:type"},r.a.createElement("br",null),r.a.createElement(R,null),r.a.createElement("p",null,"about")),r.a.createElement(c.b,{exact:!0,path:"/movie-bob/tv-show/:id"},r.a.createElement("br",null),r.a.createElement(R,null),r.a.createElement("p",null,"MOVIE")),r.a.createElement(c.b,{exact:!0,path:"/movie-bob/tv-show/:type"},r.a.createElement("br",null),r.a.createElement(R,null),r.a.createElement("p",null,"about")),r.a.createElement(c.b,{exact:!0,path:"/movie-bob/login"},r.a.createElement("br",null),r.a.createElement(H,null)),r.a.createElement(c.b,{exact:!0,path:"/movie-bob/registration"},r.a.createElement("br",null),r.a.createElement(T,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=t(14),k={logged:!1,user:null,authError:null},x={value:"",type:"movie"},G=t(35),P=t.n(G),U=t(36),V=Object(_.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return Object(C.a)(Object(C.a)({},e),{},{logged:!0,user:a.payload.user});case"LOGOUT":return Object(C.a)(Object(C.a)({},e),{},{logged:!1,user:null});case"AUTH_ERROR":case"AUTH_ERROR_CLEAR":return Object(C.a)(Object(C.a)({},e),{},{authError:a.payload});default:return e}},searchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_SEARCH_VALUE":return Object(C.a)(Object(C.a)({},e),{},{value:a.payload});case"CHANGE_SEARCH_TYPE":return Object(C.a)(Object(C.a)({},e),{},{type:a.payload});default:return e}}}),M=Object(_.d)(V,Object(_.a)(U.a,P.a));l.a.render(r.a.createElement(E.a,null,r.a.createElement(p.a,{store:M},r.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.cb81385d.chunk.js.map