(this["webpackJsonpmovie-bob"]=this["webpackJsonpmovie-bob"]||[]).push([[0],{36:function(e,t,a){e.exports=a(54)},41:function(e,t,a){},42:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),l=a.n(o),c=(a(41),a(3)),u=(a(42),a(10)),i=a(11),s=a(15),m=a(14),h=a(12),p=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"HOME")}}]),a}(n.Component),b=Object(h.b)((function(e){return{}}),(function(e){return{}}))(p),g=a(13),d=a(28);a(55),a(47),a(49);d.initializeApp({apiKey:"AIzaSyB82sHSgAFvXOV910ZQfQLbJSMKp2PM-3Y",authDomain:"moviebob-2aa6e.firebaseapp.com",databaseURL:"https://moviebob-2aa6e.firebaseio.com",projectId:"moviebob-2aa6e",storageBucket:"moviebob-2aa6e.appspot.com",messagingSenderId:"66206003248",appId:"1:66206003248:web:a476743044a57986137df5"});var E=d.auth,v=function(){function e(){Object(u.a)(this,e)}return Object(i.a)(e,null,[{key:"Registrate",value:function(e){var t=e.email,a=e.password;return E().createUserWithEmailAndPassword(t,a)}},{key:"Login",value:function(e){var t=e.email,a=e.password;return E().signInWithEmailAndPassword(t,a)}},{key:"Logout",value:function(){return E().signOut()}},{key:"getCurrentUser",value:function(){return E().currentUser}}]),e}();var f=["movie","tv-show","person"],O=function(e){var t;return r.a.createElement("div",null,r.a.createElement("select",{value:e.searchType,onChange:function(t){e.onSearchTypeChange(t.currentTarget.value)}},f.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))),r.a.createElement("input",{type:"text",name:"searchValue",onChange:function(a){a.persist();var n=a.currentTarget.value;t&&clearTimeout(t),t=setTimeout((function(){e.onSearchValueChange(n)}),500)}}))},y=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._handleLogout=function(){e.props.onLogoutRequest()},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g.b,{to:"/movie-bob/"},"HOME"),r.a.createElement(O,{onSearchTypeChange:this.props.onSearchTypeChange,onSearchValueChange:this.props.onSearchValueChange,searchValue:this.props.searchValue,searchType:this.props.searchType}),this.props.userIsLogged?r.a.createElement("span",{onClick:this._handleLogout},"LOGOUT"):r.a.createElement(g.b,{to:"/movie-bob/login"},"LOGIN"))}}]),a}(n.Component),C={onSearchTypeChange:function(e){return{type:"CHANGE_SEARCH_TYPE",payload:e}},onSearchValueChange:function(e){return{type:"CHANGE_SEARCH_VALUE",payload:e}},onLogoutRequest:function(){return function(e){return new Promise((function(t,a){v.Logout().then((function(a){e({type:"LOGOUT",payload:a}),t(a)})).catch((function(e){console.log(e),a(e)}))}))}}},w=Object(h.b)((function(e){return{searchValue:e.searchReducer.value,searchType:e.searchReducer.type,userIsLogged:e.userReducer.logged}}),C)(y),R=a(21),j=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(R.a)({},t.target.name,t.target.value))},e.handleLogin=function(){e.props.handleLogin(e._getLoginData())},e}return Object(i.a)(a,[{key:"_getLoginData",value:function(){return{email:this.state.email,password:this.state.password}}},{key:"render",value:function(){return this.props.logged?r.a.createElement(c.a,{to:"/movie-bob/"}):r.a.createElement("div",null,"LOGIN",r.a.createElement("label",null,"EMAIL",r.a.createElement("input",{type:"email",value:this.state.email,name:"email",onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("label",null,"PASSWORD",r.a.createElement("input",{type:"text",value:this.state.password,name:"password",onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.handleLogin},"LOGIN"),r.a.createElement("br",null),r.a.createElement(g.b,{to:"/movie-bob/registration"},"Registrate"),this.props.authError&&r.a.createElement("span",null,this.props.authError.message))}}]),a}(n.Component),L={handleLogin:function(e){return function(t){return new Promise((function(a,n){v.Login(e).then((function(e){t({type:"LOGIN",payload:e}),a(e)})).catch((function(e){console.log(e),t({type:"AUTH_ERROR",payload:e}),n(e)}))}))}}},A=Object(h.b)((function(e){return{logged:e.userReducer.logged,authError:e.userReducer.authError}}),L)(j),S=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",passwordConfirm:"",localFormError:null},e.handleChange=function(t){e.setState(Object(R.a)({},t.target.name,t.target.value))},e.handleRegistration=function(){e.setState({localFormError:null}),e.state.password===e.state.passwordConfirm?e.props.handleRegistration(e._getRegistrationData()):e.setState({localFormError:"Passwords dont match."})},e}return Object(i.a)(a,[{key:"_getRegistrationData",value:function(){return{email:this.state.email,password:this.state.password}}},{key:"render",value:function(){return this.props.logged?r.a.createElement(c.a,{to:"/movie-bob/"}):r.a.createElement("div",null,"Registration",r.a.createElement("label",null,"EMAIL",r.a.createElement("input",{type:"email",value:this.state.email,name:"email",onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("label",null,"PASSWORD",r.a.createElement("input",{type:"text",value:this.state.password,name:"password",onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("label",null,"CONFIRM PASSWORD",r.a.createElement("input",{type:"text",value:this.state.passwordConfirm,name:"passwordConfirm",onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.handleRegistration},"Registration"),this.props.authError&&r.a.createElement("p",{className:"red"},this.props.authError.message),this.state.localFormError&&r.a.createElement("p",{className:"red"},this.state.localFormError))}}]),a}(n.Component),T={handleRegistration:function(e){return function(t){return new Promise((function(a,n){v.Registrate(e).then((function(e){t({type:"LOGIN",payload:e}),a(e)})).catch((function(e){console.log(e),t({type:"AUTH_ERROR",payload:e}),n(e)}))}))}}},k=Object(h.b)((function(e){return{logged:e.userReducer.logged,authError:e.userReducer.authError}}),T)(S),I=function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/movie-bob/"},r.a.createElement("br",null),r.a.createElement(w,null),r.a.createElement(b,null)),r.a.createElement(c.b,{exact:!0,path:"/movie-bob/movie/:id"},r.a.createElement("br",null),r.a.createElement(w,null),r.a.createElement("p",null,"MOVIE")),r.a.createElement(c.b,{exact:!0,path:"/movie-bob/movies/:type"},r.a.createElement("br",null),r.a.createElement(w,null),r.a.createElement("p",null,"about")),r.a.createElement(c.b,{exact:!0,path:"/movie-bob/tv-show/:id"},r.a.createElement("br",null),r.a.createElement(w,null),r.a.createElement("p",null,"MOVIE")),r.a.createElement(c.b,{exact:!0,path:"/movie-bob/tv-show/:type"},r.a.createElement("br",null),r.a.createElement(w,null),r.a.createElement("p",null,"about")),r.a.createElement(c.b,{exact:!0,path:"/movie-bob/login"},r.a.createElement("br",null),r.a.createElement(A,null)),r.a.createElement(c.b,{exact:!0,path:"/movie-bob/registration"},r.a.createElement("br",null),r.a.createElement(k,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(18),H=a(8),N={logged:!1,user:null,authError:null},G={value:"",type:"movie"},V=a(34),x=a.n(V),P=a(35),U=Object(_.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(H.a)(Object(H.a)({},e),{},{logged:!0,user:t.payload.user});case"LOGOUT":return Object(H.a)(Object(H.a)({},e),{},{logged:!1,user:null});case"AUTH_ERROR":return Object(H.a)(Object(H.a)({},e),{},{authError:t.payload});default:return e}},searchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SEARCH_VALUE":return Object(H.a)(Object(H.a)({},e),{},{value:t.payload});case"CHANGE_SEARCH_TYPE":return Object(H.a)(Object(H.a)({},e),{},{type:t.payload});default:return e}}}),M=Object(_.d)(U,Object(_.a)(P.a,x.a));l.a.render(r.a.createElement(g.a,null,r.a.createElement(h.a,{store:M},r.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.b1ab59f8.chunk.js.map